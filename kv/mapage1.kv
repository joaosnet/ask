<MapaPage1>:
    MDFloatLayout:

        # Visualização do Mapa
        MapView:
            id: mapview
            # localização do mapa em tempo real
            lat: -1.474081251977831
            lon: -48.45160647253775
            zoom: 5
            double_tap_zoom: True
            on_zoom:
                self.zoom = 2 if self.zoom < 2 else self.zoom
            GpsBlinker:
                id: blinker


        MDFloatingActionButtonSpeedDial:
            pos_hint: {'center_x': 0.70,'center_y': 0.1}
            size_hint: None, None
            data: {'Perigoso': 'close-octagon', 'Atenção': 'alert-circle', 'Temporário': 'clock-fast'}
            root_button_anim: True
            hint_animation: True
            border_radius: [0, 0, 0, 0]
            rotation_root_button: True

        # Botao de configuração
        MDIconButton:
            pos_hint: {'center_x': 0.1,'center_y': 0.93}
            icon: 'icones/configuracoes.png'
            icon_size: "40sp"
            on_release: app.open_nav_drawer()

        MDIconButton:
            id: recentralisar
            icon: "crosshairs-gps"
            pos_hint: {'center_x': 0.95,'center_y': 0.93}
            user_font_size: "30sp"
            on_release: 
                try: app.root.get_screen("homepage").ids["mapapage1"].ids["mapview"].center_on(app.gpshelper().get_lat_lon())
                except: app.gps.open_gps_access_popup()        

        MDLabel:
            id: erro
            text: ''
            pos_hint: {'center_x': 0.7,'center_y': 0.5}
            font_style: 'H5'
            theme_text_color: 'Custom'
            text_color: 0, 0, 0, 1

# MapaPage1: